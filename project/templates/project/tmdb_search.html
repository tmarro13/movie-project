{% extends 'project/base.html' %}

{% block title %}
    Search TMDB
{% endblock %}

{% block content %}
    <div class="container mt-4">
        <h1 class="text-center">Search TMDB</h1>
        <form method="get" class="d-flex justify-content-center mt-3">
            <input type="text" name="query" value="{{ query }}" placeholder="Search for a movie..." class="form-control w-50">
            <button type="submit" class="btn btn-primary ms-2">Search</button>
        </form>

        <!-- 
            Render a search form where users can input a query to search for movies on TMDB.
            Includes an input field for the query and a search button.
        -->

        <ul class="list-group mt-4">
            {% for movie in results %}
                <li class="list-group-item">
                    <strong>{{ movie.title }}</strong> ({{ movie.release_date }})
                    {% if movie.poster_path %}
                        <img src="https://image.tmdb.org/t/p/w200{{ movie.poster_path }}" alt="{{ movie.title }}" class="img-fluid mt-2">
                    {% endif %}
                </li>
            {% empty %}
                <li class="list-group-item text-center">No results found.</li>
            {% endfor %}
        </ul>

        <!-- 
            Display a list of movie search results retrieved from TMDB.
            - Each item shows the movie title and release date.
            - If available, displays the movie poster.
            - Shows a "No results found" message if there are no results.
        -->
    </div>
{% endblock %}
